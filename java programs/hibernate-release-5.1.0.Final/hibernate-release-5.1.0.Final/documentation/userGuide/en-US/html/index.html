<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Hibernate User Guide</title><link rel="stylesheet" type="text/css" href="css/hibernate.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/><link rel="home" href="index.html" title="Hibernate User Guide"/><link rel="next" href="pr01.html" title="Preface"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.hibernate.org" class="site_href"><strong>Hibernate.org</strong></a><a href="http://hibernate.org/Documentation/DocumentationOverview" class="doc_href"><strong>Community Documentation</strong></a></p><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"/><li class="next"><a accesskey="n" href="pr01.html"><strong>Next</strong></a></li></ul><div class="book" title="Hibernate User Guide"><div class="titlepage"><div><div><h1 class="title"><a id="d5e1"/>Hibernate User Guide</h1></div><div><h2 class="subtitle">Hibernate - Relational Persistence for Idiomatic Java</h2></div><div><div class="authorgroup">
            <div class="author"><h3 class="author">
                <span class="orgname"><a class="ulink" href="http://hibernate.org">The Hibernate Team</a></span>
            </h3></div>
            <div class="othercredit"><h3 class="othercredit">
                <span class="orgname"><a class="ulink" href="http://design.jboss.org/">The JBoss Visual Design Team</a></span>
            </h3></div>
        </div></div><div><p class="releaseinfo">5.1.0.Final</p></div><div><p class="copyright">Copyright Â© 2011 Red Hat, Inc.</p></div><div><p class="pubdate">2016-02-10</p></div></div><hr/></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="preface"><a href="pr01.html">Preface</a></span></dt><dt><span class="chapter"><a href="ch01.html">1. Architecture</a></span></dt><dd><dl><dt><span class="section"><a href="ch01.html#architecture-overview">1.1. Overview</a></span></dt><dt><span class="section"><a href="ch01.html#architecture-current-session">1.2. Contextual sessions</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch02.html">2. Domain Model</a></span></dt><dd><dl><dt><span class="section"><a href="ch02.html#domainmodel-pojo">2.1. POJO Domain Models</a></span></dt><dd><dl><dt><span class="section"><a href="ch02.html#domainmodel-pojo-constructor">2.1.1. Implement a no-argument constructor</a></span></dt><dt><span class="section"><a href="ch02.html#domainmodel-pojo-identifier">2.1.2. Provide identifier attribute(s)</a></span></dt><dt><span class="section"><a href="ch02.html#domainmodel-pojo-final">2.1.3. Prefer non-final classes</a></span></dt><dt><span class="section"><a href="ch02.html#domainmodel-pojo-accessors">2.1.4. Declare getters and setters for persistent attributes</a></span></dt><dt><span class="section"><a href="ch02.html#domainmodel-pojo-equalshashcode">2.1.5. Implementing <code class="literal">equals()</code> and <code class="literal">hashCode()</code></a></span></dt></dl></dd><dt><span class="section"><a href="ch02.html#domainmodel-dynamic">2.2. Dynamic models</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch03.html">3. Bytecode Enhancement</a></span></dt><dd><dl><dt><span class="section"><a href="ch03.html#d5e229">3.1. Capabilities</a></span></dt><dd><dl><dt><span class="section"><a href="ch03.html#d5e232">3.1.1. Lazy attribute loading</a></span></dt><dt><span class="section"><a href="ch03.html#d5e244">3.1.2. In-line dirty tracking</a></span></dt><dt><span class="section"><a href="ch03.html#d5e249">3.1.3. Bi-directional association management</a></span></dt><dt><span class="section"><a href="ch03.html#d5e260">3.1.4. Internal performance optimizations</a></span></dt></dl></dd><dt><span class="section"><a href="ch03.html#d5e263">3.2. Performing enhancement</a></span></dt><dd><dl><dt><span class="section"><a href="ch03.html#d5e281">3.2.1. Run-time enhancement</a></span></dt><dt><span class="section"><a href="ch03.html#d5e288">3.2.2. Build-time enhancement</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch04.html">4. Bootstrap</a></span></dt><dd><dl><dt><span class="section"><a href="ch04.html#bootstrap-native">4.1. Native Bootstrapping</a></span></dt><dd><dl><dt><span class="section"><a href="ch04.html#bootstrap-native-registry">4.1.1. Building the ServiceRegistry</a></span></dt><dt><span class="section"><a href="ch04.html#bootstrap-native-metadata">4.1.2. Building the Metadata</a></span></dt><dt><span class="section"><a href="ch04.html#bootstrap-native-sessionfactory">4.1.3. Building the SessionFactory</a></span></dt></dl></dd><dt><span class="section"><a href="ch04.html#bootstrap-jpa">4.2. JPA Bootstrapping</a></span></dt><dd><dl><dt><span class="section"><a href="ch04.html#bootstrap-jpa-compliant">4.2.1. JPA-compliant bootstrapping</a></span></dt><dt><span class="section"><a href="ch04.html#bootstrap-jpa-hibernate">4.2.2. Proprietary 2-phase bootstrapping</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch05.html">5. Persistence Contexts</a></span></dt><dd><dl><dt><span class="section"><a href="ch05.html#d5e432">5.1. Making entities persistent</a></span></dt><dt><span class="section"><a href="ch05.html#d5e455">5.2. Deleting entities</a></span></dt><dt><span class="section"><a href="ch05.html#d5e467">5.3. Obtain an entity reference without initializing its data</a></span></dt><dt><span class="section"><a href="ch05.html#d5e476">5.4. Obtain an entity with its data initialized</a></span></dt><dt><span class="section"><a href="ch05.html#d5e484">5.5. Obtain an entity by natural-id</a></span></dt><dt><span class="section"><a href="ch05.html#d5e511">5.6. Refresh entity state</a></span></dt><dt><span class="section"><a href="ch05.html#d5e522">5.7. Modifying managed/persistent state</a></span></dt><dt><span class="section"><a href="ch05.html#d5e529">5.8. Working with detached data</a></span></dt><dd><dl><dt><span class="section"><a href="ch05.html#d5e533">5.8.1. Reattaching detached data</a></span></dt><dt><span class="section"><a href="ch05.html#d5e553">5.8.2. Merging detached data</a></span></dt></dl></dd><dt><span class="section"><a href="ch05.html#d5e564">5.9. Checking persistent state</a></span></dt><dt><span class="section"><a href="ch05.html#d5e581">5.10. Accessing Hibernate APIs from JPA</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch06.html">6. Database access</a></span></dt><dd><dl><dt><span class="section"><a href="ch06.html#database-connectionprovider">6.1. ConnectionProvider</a></span></dt><dd><dl><dt><span class="section"><a href="ch06.html#database-connectionprovider-datasource">6.1.1. Using DataSources</a></span></dt><dt><span class="section"><a href="ch06.html#database-connectionprovider-c3p0">6.1.2. Using c3p0</a></span></dt><dt><span class="section"><a href="ch06.html#database-connectionprovider-proxool">6.1.3. Using Proxool</a></span></dt><dt><span class="section"><a href="ch06.html#database-connectionprovider-hikari">6.1.4. Using Hikari</a></span></dt><dt><span class="section"><a href="ch06.html#database-connectionprovider-drivermanager">6.1.5. Using Hibernate's built-in (and unsupported) pooling</a></span></dt><dt><span class="section"><a href="ch06.html#database-connectionprovider-provided">6.1.6. User-provided Connections</a></span></dt><dt><span class="section"><a href="ch06.html#database-connectionprovider-isolation">6.1.7. ConnectionProvider support for transaction isolation setting</a></span></dt></dl></dd><dt><span class="section"><a href="ch06.html#database-dialect">6.2. Database Dialect</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch07.html">7. Transactions and concurrency control</a></span></dt><dd><dl><dt><span class="section"><a href="ch07.html#transactions-physical">7.1. Physical Transactions</a></span></dt><dd><dl><dt><span class="section"><a href="ch07.html#transactions-physical-jtaplatform">7.1.1. JTA configuration</a></span></dt></dl></dd><dt><span class="section"><a href="ch07.html#transactions-api">7.2. Hibernate Transaction API</a></span></dt><dt><span class="section"><a href="ch07.html#d5e1093">7.3. Transactional patterns (and anti-patterns)</a></span></dt><dd><dl><dt><span class="section"><a href="ch07.html#session-per-operation">7.3.1. Session-per-operation anti-pattern</a></span></dt><dt><span class="section"><a href="ch07.html#session-per-request">7.3.2. Session-per-request pattern</a></span></dt><dt><span class="section"><a href="ch07.html#long-conversations">7.3.3. Conversations</a></span></dt><dt><span class="section"><a href="ch07.html#d5e1186">7.3.4. Session-per-application</a></span></dt></dl></dd><dt><span class="section"><a href="ch07.html#transactions-basics-issues">7.4. Common issues</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch08.html">8. JNDI</a></span></dt><dt><span class="chapter"><a href="ch09.html">9. Locking</a></span></dt><dd><dl><dt><span class="section"><a href="ch09.html#d5e1249">9.1. Optimistic</a></span></dt><dd><dl><dt><span class="section"><a href="ch09.html#d5e1265">9.1.1. Dedicated version number</a></span></dt><dt><span class="section"><a href="ch09.html#d5e1328">9.1.2. Timestamp</a></span></dt></dl></dd><dt><span class="section"><a href="ch09.html#d5e1377">9.2. Pessimistic</a></span></dt><dd><dl><dt><span class="section"><a href="ch09.html#d5e1382">9.2.1. The <code class="classname">LockMode</code> class</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch10.html">10. Fetching</a></span></dt><dd><dl><dt><span class="section"><a href="ch10.html#d5e1455">10.1. The basics</a></span></dt><dt><span class="section"><a href="ch10.html#d5e1506">10.2. Applying fetch strategies</a></span></dt><dd><dl><dt><span class="section"><a href="ch10.html#d5e1516">10.2.1. No fetching</a></span></dt><dt><span class="section"><a href="ch10.html#d5e1528">10.2.2. Dynamic fetching via queries</a></span></dt><dt><span class="section"><a href="ch10.html#d5e1537">10.2.3. Dynamic fetching via profiles</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch11.html">11. Batching</a></span></dt><dd><dl><dt><span class="section"><a href="ch11.html#batch-jdbcbatch">11.1. JDBC batching</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch12.html">12. Caching</a></span></dt><dd><dl><dt><span class="section"><a href="ch12.html#caching-config">12.1. Configuring second-level caching</a></span></dt><dd><dl><dt><span class="section"><a href="ch12.html#caching-config-provider">12.1.1. RegionFactory</a></span></dt><dt><span class="section"><a href="ch12.html#caching-config-behavior">12.1.2. Caching behavior</a></span></dt></dl></dd><dt><span class="section"><a href="ch12.html#caching-management">12.2. Managing the Cached Data</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch13.html">13. Interceptors and events</a></span></dt><dd><dl><dt><span class="section"><a href="ch13.html#d5e1647">13.1. Interceptors</a></span></dt><dt><span class="section"><a href="ch13.html#d5e1666">13.2. Native Event system</a></span></dt><dd><dl><dt><span class="section"><a href="ch13.html#d5e1687">13.2.1. Hibernate declarative security</a></span></dt></dl></dd><dt><span class="section"><a href="ch13.html#d5e1699">13.3. JPA Callbacks</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch14.html">14. HQL and JPQL</a></span></dt><dd><dl><dt><span class="section"><a href="ch14.html#d5e1786">14.1. Case Sensitivity</a></span></dt><dt><span class="section"><a href="ch14.html#d5e1798">14.2. Statement types</a></span></dt><dd><dl><dt><span class="section"><a href="ch14.html#d5e1814">14.2.1. Select statements</a></span></dt><dt><span class="section"><a href="ch14.html#d5e1827">14.2.2. Update statements</a></span></dt><dt><span class="section"><a href="ch14.html#d5e1862">14.2.3. Delete statements</a></span></dt><dt><span class="section"><a href="ch14.html#d5e1872">14.2.4. Insert statements</a></span></dt></dl></dd><dt><span class="section"><a href="ch14.html#hql-from-clause">14.3. The <code class="literal">FROM</code> clause</a></span></dt><dd><dl><dt><span class="section"><a href="ch14.html#d5e1909">14.3.1. Identification variables</a></span></dt><dt><span class="section"><a href="ch14.html#d5e1916">14.3.2. Root entity references</a></span></dt><dt><span class="section"><a href="ch14.html#d5e1940">14.3.3. Explicit joins</a></span></dt><dt><span class="section"><a href="ch14.html#d5e1983">14.3.4. Implicit joins (path expressions)</a></span></dt><dt><span class="section"><a href="ch14.html#hql-collection-valued-associations">14.3.5. Collection member references</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2053">14.3.6. Polymorphism</a></span></dt></dl></dd><dt><span class="section"><a href="ch14.html#hql-expressions">14.4. Expressions</a></span></dt><dd><dl><dt><span class="section"><a href="ch14.html#d5e2072">14.4.1. Identification variable</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2076">14.4.2. Path expressions</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2080">14.4.3. Literals</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2106">14.4.4. Parameters</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2129">14.4.5. Arithmetic</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2151">14.4.6. Concatenation (operation)</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2162">14.4.7. Aggregate functions</a></span></dt><dt><span class="section"><a href="ch14.html#hql-exp-functions">14.4.8. Scalar functions</a></span></dt><dt><span class="section"><a href="ch14.html#hql-collection-expressions">14.4.9. Collection-related expressions</a></span></dt><dt><span class="section"><a href="ch14.html#hql-entity-type-exp">14.4.10. Entity type</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2361">14.4.11. CASE expressions</a></span></dt></dl></dd><dt><span class="section"><a href="ch14.html#hql-select-clause">14.5. The <code class="literal">SELECT</code> clause</a></span></dt><dt><span class="section"><a href="ch14.html#hql-conditional-expressions">14.6. Predicates</a></span></dt><dd><dl><dt><span class="section"><a href="ch14.html#d5e2423">14.6.1. Relational comparisons</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2438">14.6.2. Nullness predicate</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2444">14.6.3. Like predicate</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2466">14.6.4. Between predicate</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2472">14.6.5. In predicate</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2497">14.6.6. Exists predicate</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2500">14.6.7. Empty collection predicate</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2507">14.6.8. Member-of collection predicate</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2514">14.6.9. NOT predicate operator</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2518">14.6.10. AND predicate operator</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2522">14.6.11. OR predicate operator</a></span></dt></dl></dd><dt><span class="section"><a href="ch14.html#hql-where-clause">14.7. The <code class="literal">WHERE</code> clause</a></span></dt><dt><span class="section"><a href="ch14.html#hql-grouping">14.8. Grouping</a></span></dt><dt><span class="section"><a href="ch14.html#hql-ordering">14.9. Ordering</a></span></dt><dt><span class="section"><a href="ch14.html#hql-api">14.10. Query API</a></span></dt><dd><dl><dt><span class="section"><a href="ch14.html#d5e2570">14.10.1. Hibernate Query API</a></span></dt><dt><span class="section"><a href="ch14.html#d5e2640">14.10.2. JPA Query API</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch15.html">15. Criteria</a></span></dt><dd><dl><dt><span class="section"><a href="ch15.html#querycriteria-typedquery">15.1. Typed criteria queries</a></span></dt><dd><dl><dt><span class="section"><a href="ch15.html#querycriteria-typedquery-entity">15.1.1. Selecting an entity</a></span></dt><dt><span class="section"><a href="ch15.html#querycriteria-typedquery-expression">15.1.2. Selecting an expression</a></span></dt><dt><span class="section"><a href="ch15.html#querycriteria-typedquery-multiselect">15.1.3. Selecting multiple values</a></span></dt><dt><span class="section"><a href="ch15.html#querycriteria-typedquery-construct">15.1.4. Selecting a wrapper</a></span></dt></dl></dd><dt><span class="section"><a href="ch15.html#querycriteria-tuple">15.2. Tuple criteria queries</a></span></dt><dt><span class="section"><a href="ch15.html#querycriteria-from">15.3. FROM clause</a></span></dt><dd><dl><dt><span class="section"><a href="ch15.html#querycriteria-from-root">15.3.1. Roots</a></span></dt><dt><span class="section"><a href="ch15.html#querycriteria-from-join">15.3.2. Joins</a></span></dt><dt><span class="section"><a href="ch15.html#querycriteria-from-fetch">15.3.3. Fetches</a></span></dt></dl></dd><dt><span class="section"><a href="ch15.html#querycriteria-path">15.4. Path expressions</a></span></dt><dt><span class="section"><a href="ch15.html#querycriteria-param">15.5. Using parameters</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch16.html">16. Native SQL Queries</a></span></dt><dd><dl><dt><span class="section"><a href="ch16.html#querynative-creating">16.1. Using a <code class="literal">SQLQuery</code></a></span></dt><dd><dl><dt><span class="section"><a href="ch16.html#d5e2922">16.1.1. Scalar queries</a></span></dt><dt><span class="section"><a href="ch16.html#d5e2946">16.1.2. Entity queries</a></span></dt><dt><span class="section"><a href="ch16.html#d5e2964">16.1.3. Handling associations and collections</a></span></dt><dt><span class="section"><a href="ch16.html#d5e2977">16.1.4. Returning multiple entities</a></span></dt><dt><span class="section"><a href="ch16.html#d5e3069">16.1.5. Returning non-managed entities</a></span></dt><dt><span class="section"><a href="ch16.html#d5e3081">16.1.6. Handling inheritance</a></span></dt><dt><span class="section"><a href="ch16.html#d5e3084">16.1.7. Parameters</a></span></dt></dl></dd><dt><span class="section"><a href="ch16.html#querysql-namedqueries">16.2. Named SQL queries</a></span></dt><dd><dl><dt><span class="section"><a href="ch16.html#propertyresults">16.2.1. Using return-property to explicitly specify column/alias
      names</a></span></dt><dt><span class="section"><a href="ch16.html#sp_query">16.2.2. Using stored procedures for querying</a></span></dt></dl></dd><dt><span class="section"><a href="ch16.html#querysql-cud">16.3. Custom SQL for create, update and delete</a></span></dt><dt><span class="section"><a href="ch16.html#querysql-load">16.4. Custom SQL for loading</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch17.html">17. Multi-tenancy</a></span></dt><dd><dl><dt><span class="section"><a href="ch17.html#d5e3287">17.1. What is multi-tenancy?</a></span></dt><dt><span class="section"><a href="ch17.html#d5e3290">17.2. Multi-tenant data approaches</a></span></dt><dd><dl><dt><span class="section"><a href="ch17.html#d5e3296">17.2.1. Separate database</a></span></dt><dt><span class="section"><a href="ch17.html#d5e3305">17.2.2. Separate schema</a></span></dt><dt><span class="section"><a href="ch17.html#d5e3322">17.2.3. Partitioned (discriminator) data</a></span></dt></dl></dd><dt><span class="section"><a href="ch17.html#d5e3331">17.3. Multi-tenancy in Hibernate</a></span></dt><dd><dl><dt><span class="section"><a href="ch17.html#d5e3360">17.3.1. <code class="interfacename">MultiTenantConnectionProvider</code></a></span></dt><dt><span class="section"><a href="ch17.html#d5e3385">17.3.2. <code class="interfacename">CurrentTenantIdentifierResolver</code></a></span></dt><dt><span class="section"><a href="ch17.html#d5e3410">17.3.3. Caching</a></span></dt><dt><span class="section"><a href="ch17.html#d5e3413">17.3.4. Odds and ends</a></span></dt></dl></dd><dt><span class="section"><a href="ch17.html#d5e3417">17.4. Strategies for <code class="interfacename">MultiTenantConnectionProvider</code> implementors</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch18.html">18. OSGi</a></span></dt><dd><dl><dt><span class="section"><a href="ch18.html#d5e3435">18.1. OSGi Specification and Environment</a></span></dt><dt><span class="section"><a href="ch18.html#d5e3450">18.2. hibernate-osgi</a></span></dt><dt><span class="section"><a href="ch18.html#d5e3453">18.3. features.xml</a></span></dt><dt><span class="section"><a href="ch18.html#d5e3464">18.4. QuickStarts/Demos</a></span></dt><dt><span class="section"><a href="ch18.html#osgi-managed-jpa">18.5. Container-Managed JPA</a></span></dt><dd><dl><dt><span class="section"><a href="ch18.html#d5e3473">18.5.1. Enterprise OSGi JPA Container</a></span></dt><dt><span class="section"><a href="ch18.html#d5e3481">18.5.2. persistence.xml</a></span></dt><dt><span class="section"><a href="ch18.html#d5e3486">18.5.3. DataSource</a></span></dt><dt><span class="section"><a href="ch18.html#d5e3500">18.5.4. Bundle Package Imports</a></span></dt><dt><span class="section"><a href="ch18.html#d5e3510">18.5.5. Obtaining an EntityManger</a></span></dt></dl></dd><dt><span class="section"><a href="ch18.html#osgi-unmanaged-jpa">18.6. Unmanaged JPA</a></span></dt><dd><dl><dt><span class="section"><a href="ch18.html#d5e3522">18.6.1. persistence.xml</a></span></dt><dt><span class="section"><a href="ch18.html#d5e3527">18.6.2. Bundle Package Imports</a></span></dt><dt><span class="section"><a href="ch18.html#d5e3543">18.6.3. Obtaining an EntityMangerFactory</a></span></dt></dl></dd><dt><span class="section"><a href="ch18.html#osgi-unmanaged-native">18.7. Unmanaged Native</a></span></dt><dd><dl><dt><span class="section"><a href="ch18.html#d5e3556">18.7.1. Bundle Package Imports</a></span></dt><dt><span class="section"><a href="ch18.html#d5e3575">18.7.2. Obtaining an SessionFactory</a></span></dt></dl></dd><dt><span class="section"><a href="ch18.html#d5e3585">18.8. Optional Modules</a></span></dt><dt><span class="section"><a href="ch18.html#d5e3589">18.9. Extension Points</a></span></dt><dt><span class="section"><a href="ch18.html#d5e3613">18.10. Caveats</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch19.html">19. Envers</a></span></dt><dd><dl><dt><span class="section"><a href="ch19.html#d5e3642">19.1. Basics</a></span></dt><dt><span class="section"><a href="ch19.html#envers-configuration">19.2. Configuration</a></span></dt><dt><span class="section"><a href="ch19.html#d5e3805">19.3. Additional mapping annotations</a></span></dt><dt><span class="section"><a href="ch19.html#d5e3829">19.4. Choosing an audit strategy</a></span></dt><dt><span class="section"><a href="ch19.html#envers-revisionlog">19.5. Revision Log</a></span></dt><dd><dl><dt><span class="section"><a href="ch19.html#envers-tracking-modified-entities-revchanges">19.5.1. Tracking entity names modified during revisions</a></span></dt></dl></dd><dt><span class="section"><a href="ch19.html#envers-tracking-properties-changes">19.6. Tracking entity changes at property level</a></span></dt><dt><span class="section"><a href="ch19.html#envers-queries">19.7. Queries</a></span></dt><dd><dl><dt><span class="section"><a href="ch19.html#entities-at-revision">19.7.1. Querying for entities of a class at a given revision</a></span></dt><dt><span class="section"><a href="ch19.html#revisions-of-entity">19.7.2. Querying for revisions, at which entities of a given class changed</a></span></dt><dt><span class="section"><a href="ch19.html#envers-tracking-properties-changes-queries">19.7.3. Querying for revisions of entity that modified given property</a></span></dt><dt><span class="section"><a href="ch19.html#envers-tracking-modified-entities-queries">19.7.4. Querying for entities modified in a given revision</a></span></dt></dl></dd><dt><span class="section"><a href="ch19.html#d5e4047">19.8. Conditional auditing</a></span></dt><dt><span class="section"><a href="ch19.html#d5e4067">19.9. Understanding the Envers Schema</a></span></dt><dt><span class="section"><a href="ch19.html#envers-generateschema">19.10. Generating schema with Ant</a></span></dt><dt><span class="section"><a href="ch19.html#envers-mappingexceptions">19.11. Mapping exceptions</a></span></dt><dd><dl><dt><span class="section"><a href="ch19.html#d5e4102">19.11.1. What isn't and will not be supported</a></span></dt><dt><span class="section"><a href="ch19.html#d5e4113">19.11.2. What isn't and <span class="emphasis"><em>will</em></span> be supported</a></span></dt><dt><span class="section"><a href="ch19.html#d5e4120">19.11.3. <code class="literal">@OneToMany</code>+<code class="literal">@JoinColumn</code></a></span></dt></dl></dd><dt><span class="section"><a href="ch19.html#envers-partitioning">19.12. Advanced: Audit table partitioning</a></span></dt><dd><dl><dt><span class="section"><a href="ch19.html#envers-partitioning-benefits">19.12.1. Benefits of audit table partitioning</a></span></dt><dt><span class="section"><a href="ch19.html#envers-partitioning-columns">19.12.2. Suitable columns for audit table partitioning</a></span></dt><dt><span class="section"><a href="ch19.html#envers-partitioning-example">19.12.3. Audit table partitioning example</a></span></dt></dl></dd><dt><span class="section"><a href="ch19.html#envers-links">19.13. Envers links</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch20.html">20. Database Portability Considerations</a></span></dt><dd><dl><dt><span class="section"><a href="ch20.html#portability-basics">20.1. Portability Basics</a></span></dt><dt><span class="section"><a href="ch20.html#portability-dialect">20.2. Dialect</a></span></dt><dt><span class="section"><a href="ch20.html#portability-dialectresolver">20.3. Dialect resolution</a></span></dt><dt><span class="section"><a href="ch20.html#portability-idgen">20.4. Identifier generation</a></span></dt><dt><span class="section"><a href="ch20.html#portability-functions">20.5. Database functions</a></span></dt><dt><span class="section"><a href="ch20.html#portability-types">20.6. Type mappings</a></span></dt></dl></dd><dt><span class="appendix"><a href="apa.html">A. Legacy Bootstrapping</a></span></dt><dd><dl><dt><span class="section"><a href="apa.html#d5e4410">A.1. Migration</a></span></dt></dl></dd><dt><span class="appendix"><a href="apb.html">B. Legacy Hibernate Criteria Queries</a></span></dt><dd><dl><dt><span class="section"><a href="apb.html#querycriteria-creating">B.1. Creating a <code class="literal">Criteria</code> instance</a></span></dt><dt><span class="section"><a href="apb.html#querycriteria-narrowing">B.2. Narrowing the result set</a></span></dt><dt><span class="section"><a href="apb.html#querycriteria-ordering">B.3. Ordering the results</a></span></dt><dt><span class="section"><a href="apb.html#querycriteria-associations">B.4. Associations</a></span></dt><dt><span class="section"><a href="apb.html#querycriteria-dynamicfetching">B.5. Dynamic association fetching</a></span></dt><dt><span class="section"><a href="apb.html#querycriteria-components">B.6. Components</a></span></dt><dt><span class="section"><a href="apb.html#querycriteria-collections">B.7. Collections</a></span></dt><dt><span class="section"><a href="apb.html#querycriteria-examples">B.8. Example queries</a></span></dt><dt><span class="section"><a href="apb.html#querycriteria-projection">B.9. Projections, aggregation and grouping</a></span></dt><dt><span class="section"><a href="apb.html#querycriteria-detachedqueries">B.10. Detached queries and subqueries</a></span></dt><dt><span class="section"><a href="apb.html#query-criteria-naturalid">B.11. Queries by natural identifier</a></span></dt></dl></dd><dt><span class="bibliography"><a href="bi01.html">References</a></span></dt></dl></div><div class="list-of-tables"><p><strong>List of Tables</strong></p><dl><dt>6.1. <a href="ch06.html#d5e831">Provided Dialects</a></dt><dt>13.1. <a href="ch13.html#d5e1702">Callback annotations</a></dt><dt>16.1. <a href="ch16.html#aliasinjection-summary">Alias injection names</a></dt><dt>19.1. <a href="ch19.html#d5e3666">Envers Configuration Properties</a></dt><dt>19.2. <a href="ch19.html#d5e4182">Salaries table</a></dt><dt>19.3. <a href="ch19.html#d5e4206">Salaries - audit table</a></dt></dl></div><div class="list-of-examples"><p><strong>List of Examples</strong></p><dl><dt>2.1. <a href="ch02.html#d5e166">Scope of identity</a></dt><dt>2.2. <a href="ch02.html#d5e171">Set usage with Session-scoped identity</a></dt><dt>2.3. <a href="ch02.html#d5e175">Mixed Sessions</a></dt><dt>2.4. <a href="ch02.html#d5e181">Sets with transient entities</a></dt><dt>2.5. <a href="ch02.html#d5e186">Naive equals/hashCode implementation</a></dt><dt>2.6. <a href="ch02.html#d5e190">Still trouble</a></dt><dt>2.7. <a href="ch02.html#d5e197">Forcing identifier generation</a></dt><dt>2.8. <a href="ch02.html#d5e202">Better equals/hashCode with natural-id</a></dt><dt>2.9. <a href="ch02.html#d5e216">Working with Dynamic Domain Models</a></dt><dt>3.1. <a href="ch03.html#d5e237">@LazyGroup example</a></dt><dt>3.2. <a href="ch03.html#d5e252">Incorrect normal Java usage</a></dt><dt>3.3. <a href="ch03.html#d5e256">Correct normal Java usage</a></dt><dt>3.4. <a href="ch03.html#d5e284">Example persistence.xml</a></dt><dt>3.5. <a href="ch03.html#d5e294">Apply the Gradle plugin</a></dt><dt>3.6. <a href="ch03.html#d5e306">Apply the Maven plugin</a></dt><dt>4.1. <a href="ch04.html#d5e338">Controlling BootstrapServiceRegistry building</a></dt><dt>4.2. <a href="ch04.html#d5e345">Building a BootstrapServiceRegistryBuilder</a></dt><dt>4.3. <a href="ch04.html#d5e350">Controlling StandardServiceRegistry building</a></dt><dt>4.4. <a href="ch04.html#d5e358">Configuring a MetadataSources</a></dt><dt>4.5. <a href="ch04.html#d5e362">Configuring a MetadataSources with method chaining</a></dt><dt>4.6. <a href="ch04.html#d5e369">Building Metadata via MetadataBuilder</a></dt><dt>4.7. <a href="ch04.html#d5e376">Building SessionFactory via SessionFactoryBuilder</a></dt><dt>4.8. <a href="ch04.html#d5e384">Native Bootstrapping - Putting it all together</a></dt><dt>4.9. <a href="ch04.html#d5e396">Injecting a EntityManagerFactory</a></dt><dt>4.10. <a href="ch04.html#d5e400">Application bootstrapped EntityManagerFactory</a></dt><dt>5.1. <a href="ch05.html#d5e439">Example of making an entity persistent</a></dt><dt>5.2. <a href="ch05.html#d5e458">Example of deleting an entity</a></dt><dt>5.3. <a href="ch05.html#d5e470">Example of obtaining an entity reference without initializing its data</a></dt><dt>5.4. <a href="ch05.html#d5e479">Example of obtaining an entity reference with its data initialized</a></dt><dt>5.5. <a href="ch05.html#d5e487">Example of simple natural-id access</a></dt><dt>5.6. <a href="ch05.html#d5e490">Example of natural-id access</a></dt><dt>5.7. <a href="ch05.html#d5e514">Example of refreshing entity state</a></dt><dt>5.8. <a href="ch05.html#d5e525">Example of modifying managed state</a></dt><dt>5.9. <a href="ch05.html#d5e539">Example of reattaching a detached entity</a></dt><dt>5.10. <a href="ch05.html#d5e556">Visualizing merge</a></dt><dt>5.11. <a href="ch05.html#d5e560">Example of merging a detached entity</a></dt><dt>5.12. <a href="ch05.html#d5e567">Examples of verifying managed state</a></dt><dt>5.13. <a href="ch05.html#d5e571">Examples of verifying laziness</a></dt><dt>5.14. <a href="ch05.html#d5e578">Alternative JPA means to verify laziness</a></dt><dt>5.15. <a href="ch05.html#d5e584">Usage of EntityManager.unwrap</a></dt><dt>7.1. <a href="ch07.html#d5e1082">Using Transaction API in JDBC</a></dt><dt>7.2. <a href="ch07.html#d5e1085">Using Transaction API in JTA (CMT)</a></dt><dt>7.3. <a href="ch07.html#d5e1088">Using Transaction API in JTA (BMT)</a></dt><dt>9.1. <a href="ch09.html#d5e1269">The @Version annotation</a></dt><dt>9.2. <a href="ch09.html#d5e1284">Declaring a version property in <code class="filename">hbm.xml</code></a></dt><dt>9.3. <a href="ch09.html#d5e1334">Using timestamps for optimistic locking</a></dt><dt>9.4. <a href="ch09.html#d5e1343">The timestamp element in <code class="filename">hbm.xml</code></a></dt><dt>10.1. <a href="ch10.html#d5e1509">Sample domain model</a></dt><dt>10.2. <a href="ch10.html#d5e1520">No fetching example</a></dt><dt>10.3. <a href="ch10.html#d5e1525">No fetching (scalar) example</a></dt><dt>10.4. <a href="ch10.html#d5e1532">Dynamic query fetching example</a></dt><dt>10.5. <a href="ch10.html#d5e1541">Fetch profile example</a></dt><dt>13.1. <a href="ch13.html#d5e1682">Custom LoadListener example</a></dt><dt>13.2. <a href="ch13.html#d5e1693">JACC listener registration example</a></dt><dt>13.3. <a href="ch13.html#d5e1740">Example of specifying JPA callbacks</a></dt><dt>14.1. <a href="ch14.html#d5e1853">Example UPDATE query statements</a></dt><dt>14.2. <a href="ch14.html#d5e1900">Example INSERT query statements</a></dt><dt>14.3. <a href="ch14.html#hql-simple-query-ex">Simple query example</a></dt><dt>14.4. <a href="ch14.html#d5e1932">Simple query using entity name for root entity reference</a></dt><dt>14.5. <a href="ch14.html#d5e1936">Simple query using multiple root entity references</a></dt><dt>14.6. <a href="ch14.html#d5e1947">Explicit inner join examples</a></dt><dt>14.7. <a href="ch14.html#d5e1950">Explicit left (outer) join examples</a></dt><dt>14.8. <a href="ch14.html#d5e1957">Fetch join example</a></dt><dt>14.9. <a href="ch14.html#d5e1973">with-clause join example</a></dt><dt>14.10. <a href="ch14.html#d5e1986">Simple implicit join example</a></dt><dt>14.11. <a href="ch14.html#d5e2005">Reused implicit join</a></dt><dt>14.12. <a href="ch14.html#d5e2014">Collection references example</a></dt><dt>14.13. <a href="ch14.html#d5e2027">Qualified collection references example</a></dt><dt>14.14. <a href="ch14.html#d5e2083">String literal examples</a></dt><dt>14.15. <a href="ch14.html#d5e2087">Numeric literal examples</a></dt><dt>14.16. <a href="ch14.html#d5e2113">Named parameter examples</a></dt><dt>14.17. <a href="ch14.html#d5e2121">Positional (JPQL) parameter examples</a></dt><dt>14.18. <a href="ch14.html#d5e2132">Numeric arithmetic examples</a></dt><dt>14.19. <a href="ch14.html#d5e2156">Concatenation operation example</a></dt><dt>14.20. <a href="ch14.html#d5e2182">Aggregate function examples</a></dt><dt>14.21. <a href="ch14.html#d5e2341">Collection-related expressions examples</a></dt><dt>14.22. <a href="ch14.html#d5e2345">Index operator examples</a></dt><dt>14.23. <a href="ch14.html#d5e2354">Entity type expression examples</a></dt><dt>14.24. <a href="ch14.html#d5e2370">Simple case expression example</a></dt><dt>14.25. <a href="ch14.html#d5e2377">Searched case expression example</a></dt><dt>14.26. <a href="ch14.html#d5e2383">NULLIF example</a></dt><dt>14.27. <a href="ch14.html#d5e2400">Dynamic instantiation example - constructor</a></dt><dt>14.28. <a href="ch14.html#d5e2408">Dynamic instantiation example - list</a></dt><dt>14.29. <a href="ch14.html#d5e2413">Dynamic instantiation example - map</a></dt><dt>14.30. <a href="ch14.html#d5e2426">Relational comparison examples</a></dt><dt>14.31. <a href="ch14.html#d5e2434">ALL subquery comparison qualifier example</a></dt><dt>14.32. <a href="ch14.html#d5e2441">Nullness checking examples</a></dt><dt>14.33. <a href="ch14.html#d5e2463">Like predicate examples</a></dt><dt>14.34. <a href="ch14.html#d5e2469">Between predicate examples</a></dt><dt>14.35. <a href="ch14.html#d5e2494">In predicate examples</a></dt><dt>14.36. <a href="ch14.html#d5e2504">Empty collection expression examples</a></dt><dt>14.37. <a href="ch14.html#d5e2511">Member-of collection expression examples</a></dt><dt>14.38. <a href="ch14.html#group_by_illustration">Group-by illustration</a></dt><dt>14.39. <a href="ch14.html#having_illustration">Having illustration</a></dt><dt>14.40. <a href="ch14.html#d5e2565">Order-by examples</a></dt><dt>14.41. <a href="ch14.html#d5e2576">Obtaining a Query reference - Hibernate</a></dt><dt>14.42. <a href="ch14.html#d5e2581">Basic Query usage - Hibernate</a></dt><dt>14.43. <a href="ch14.html#d5e2595">Parameter binding - Hibernate</a></dt><dt>14.44. <a href="ch14.html#d5e2599">Parameter binding (inferred type) - Hibernate</a></dt><dt>14.45. <a href="ch14.html#d5e2603">Parameter binding (short forms) - Hibernate</a></dt><dt>14.46. <a href="ch14.html#d5e2614">list() and uniqueResult()</a></dt><dt>14.47. <a href="ch14.html#d5e2647">Obtaining a Query reference - JPA</a></dt><dt>14.48. <a href="ch14.html#d5e2654">Basic Query usage - JPA</a></dt><dt>14.49. <a href="ch14.html#d5e2703">Parameter binding - JPA</a></dt><dt>15.1. <a href="ch15.html#ex-criteria-typedquery-entity">Selecting the root entity</a></dt><dt>15.2. <a href="ch15.html#ex-criteria-typedquery-attribute">Selecting an attribute</a></dt><dt>15.3. <a href="ch15.html#ex-criteria-typedquery-array">Selecting an array</a></dt><dt>15.4. <a href="ch15.html#ex-criteria-typedquery-array2">Selecting an array (2)</a></dt><dt>15.5. <a href="ch15.html#ex-criteria-typedquery-construct">Selecting an wrapper</a></dt><dt>15.6. <a href="ch15.html#ex-criteria-typedquery-tuple">Selecting a tuple</a></dt><dt>15.7. <a href="ch15.html#d5e2866">Adding a root</a></dt><dt>15.8. <a href="ch15.html#d5e2870">Adding multiple roots</a></dt><dt>15.9. <a href="ch15.html#criteria-join-singular">Example with Embedded and ManyToOne</a></dt><dt>15.10. <a href="ch15.html#criteria-join-plural">Example with Collections</a></dt><dt>15.11. <a href="ch15.html#criteria-fetch-singular">Example with Embedded and ManyToOne</a></dt><dt>15.12. <a href="ch15.html#criteria-fetch-plural">Example with Collections</a></dt><dt>15.13. <a href="ch15.html#ex-querycriteria-param">Using parameters</a></dt><dt>16.1. <a href="ch16.html#d5e3093">Named sql query using the &lt;sql-query&gt; maping
      element</a></dt><dt>16.2. <a href="ch16.html#d5e3096">Execution of a named query</a></dt><dt>16.3. <a href="ch16.html#d5e3102">Named sql query with association</a></dt><dt>16.4. <a href="ch16.html#d5e3107">Named query returning a scalar</a></dt><dt>16.5. <a href="ch16.html#d5e3113">&lt;resultset&gt; mapping used to externalize mapping
      information</a></dt><dt>16.6. <a href="ch16.html#d5e3117">Programmatically specifying the result mapping information
      </a></dt><dt>16.7. <a href="ch16.html#example-named-native-query-annotation-with-result-set-mapping">Named SQL query using <code class="classname">@NamedNativeQuery</code>
      together with <code class="classname">@SqlResultSetMapping</code></a></dt><dt>16.8. <a href="ch16.html#example-implicit-result-set-mapping">Implicit result set mapping</a></dt><dt>16.9. <a href="ch16.html#example-field-result-annotation-with-associations">Using dot notation in @FieldResult for specifying associations
      </a></dt><dt>16.10. <a href="ch16.html#d5e3160">Scalar values via <code class="classname">@ColumnResult</code></a></dt><dt>16.11. <a href="ch16.html#example-custom-crdu-via-annotations">Custom CRUD via annotations</a></dt><dt>16.12. <a href="ch16.html#example-custom-crdu-via-xml">Custom CRUD XML</a></dt><dt>16.13. <a href="ch16.html#example-overriding-sql-collections-annotations">Overriding SQL statements for collections using
      annotations</a></dt><dt>16.14. <a href="ch16.html#d5e3259">Overriding SQL statements for secondary tables</a></dt><dt>16.15. <a href="ch16.html#d5e3266">Stored procedures and their return value</a></dt><dt>17.1. <a href="ch17.html#specifying-tenant-ex">Specifying tenant identifier from <code class="interfacename">SessionFactory</code></a></dt><dt>17.2. <a href="ch17.html#d5e3420">Implementing MultiTenantConnectionProvider using different connection pools</a></dt><dt>17.3. <a href="ch17.html#d5e3424">Implementing MultiTenantConnectionProvider using single connection pool</a></dt><dt>18.1. <a href="ch18.html#d5e3492">datasource-h2.xml</a></dt><dt>18.2. <a href="ch18.html#d5e3497">META-INF/persistence.xml</a></dt><dt>18.3. <a href="ch18.html#d5e3516">OSGI-INF/blueprint/blueprint.xml</a></dt><dt>18.4. <a href="ch18.html#d5e3550">Discover/Use EntityManagerFactory</a></dt><dt>18.5. <a href="ch18.html#d5e3582">Discover/Use EntityManagerFactory</a></dt><dt>18.6. <a href="ch18.html#d5e3607">Example extension point registrations in blueprint.xml</a></dt><dt>19.1. <a href="ch19.html#d5e3888">Example of storing username with revision</a></dt><dt>19.2. <a href="ch19.html#d5e3921">Custom implementation of tracking entity classes modified during revisions</a></dt><dt>A.1. <a href="apa.html#d5e4401">Configuration usage</a></dt></dl></div>
    


    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    
    
    

    
    

    

</div><hr xmlns="" xmlns:d="http://docbook.org/ns/docbook"/><a xmlns="" xmlns:d="http://docbook.org/ns/docbook" href="legalnotice.html"/><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"/><li class="next"><a accesskey="n" href="pr01.html"><strong>Next</strong>Preface</a></li></ul></body></html>